generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Company {
  id    Int    @id @default(autoincrement())
  title String
  users User[]
}

model User {
  id        Int        @id @default(autoincrement())
  name      String     @unique
  email     String
  password  String
  company   Company    @relation(fields: [companyId], references: [id])
  companyId Int
  role      Role[]
  presences Presence[]
  document  Document[]
  conges    Conge[]
}

model Role {
  id    Int    @id @default(autoincrement())
  label String
  users User[]
}

model Conge {
  id     Int      @id @default(autoincrement())
  list   String
  start  DateTime
  end    DateTime
  user   User     @relation(fields: [userId], references: [id])
  userId Int
  payed  Boolean
  reason String
}

model Notification {
  id      Int    @id @default(autoincrement())
  title   String
  content String
}

model Document {
  id          Int    @id @default(autoincrement())
  title       String
  user        User?  @relation(fields: [userId], references: [id])
  dipe        Dipe?
  parentId    Int
  description String
  path        String
  userId      Int?
}

model Dipe {
  id          Int      @id @default(autoincrement())
  title       String
  description String
  date        DateTime
  document    Document @relation(fields: [documentId], references: [id])
  documentId  Int      @unique
  createdAt   DateTime
}

model Presence {
  id       Int      @id @default(autoincrement())
  present  Boolean
  date     DateTime
  user     User     @relation(fields: [userId], references: [id])
  userId   Int
  location String
  indoor   Boolean  @default(true)
}
